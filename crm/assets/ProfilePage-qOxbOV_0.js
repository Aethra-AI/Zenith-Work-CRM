import{c as Q,g as X,s as B,_ as n,r,u as Z,d as w,n as E,j as e,e as G,f as ee,o as me,p as N,q as xe,t as fe,v as be,w as Y,x as ge,P as te,T as y,y as q,z as I,I as P,D as A,E as he,B as $,C as je,b as W,m as ve,G as ye,S as J,a as Ce}from"./index-CCrEiutU.js";import{a as Ie}from"./api-B5d2cEzN.js";import{G as b}from"./Grid-BzHwa9zL.js";import{d as Pe}from"./dayjs.min-CxPEm7Oh.js";import{T as Ae,a as Le,b as Se,c as K,d as Re}from"./TableRow-BOC9lXm3.js";import{T as j}from"./TableCell-D2A8zbOD.js";import{C as se}from"./Chip-CshjsiA6.js";import{A as Ne}from"./Alert-CroFdDTR.js";function $e(t){return X("MuiListItem",t)}const v=Q("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function Ee(t){return X("MuiListItemSecondaryAction",t)}Q("MuiListItemSecondaryAction",["root","disableGutters"]);const Ge=["className"],_e=t=>{const{disableGutters:s,classes:a}=t;return ee({root:["root",s&&"disableGutters"]},Ee,a)},Te=B("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.disableGutters&&s.disableGutters]}})(({ownerState:t})=>n({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),ae=r.forwardRef(function(s,a){const o=Z({props:s,name:"MuiListItemSecondaryAction"}),{className:i}=o,c=w(o,Ge),l=r.useContext(E),d=n({},o,{disableGutters:l.disableGutters}),p=_e(d);return e.jsx(Te,n({className:G(p.root,i),ownerState:d,ref:a},c))});ae.muiName="ListItemSecondaryAction";const ke=["className"],we=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Be=(t,s)=>{const{ownerState:a}=t;return[s.root,a.dense&&s.dense,a.alignItems==="flex-start"&&s.alignItemsFlexStart,a.divider&&s.divider,!a.disableGutters&&s.gutters,!a.disablePadding&&s.padding,a.button&&s.button,a.hasSecondaryAction&&s.secondaryAction]},Oe=t=>{const{alignItems:s,button:a,classes:o,dense:i,disabled:c,disableGutters:l,disablePadding:d,divider:p,hasSecondaryAction:u,selected:m}=t;return ee({root:["root",i&&"dense",!l&&"gutters",!d&&"padding",p&&"divider",c&&"disabled",a&&"button",s==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",m&&"selected"],container:["container"]},$e,o)},Me=B("div",{name:"MuiListItem",slot:"Root",overridesResolver:Be})(({theme:t,ownerState:s})=>n({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!s.disablePadding&&n({paddingTop:8,paddingBottom:8},s.dense&&{paddingTop:4,paddingBottom:4},!s.disableGutters&&{paddingLeft:16,paddingRight:16},!!s.secondaryAction&&{paddingRight:48}),!!s.secondaryAction&&{[`& > .${me.root}`]:{paddingRight:48}},{[`&.${v.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${v.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:N(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${v.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:N(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${v.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},s.alignItems==="flex-start"&&{alignItems:"flex-start"},s.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},s.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:N(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:N(t.palette.primary.main,t.palette.action.selectedOpacity)}}},s.hasSecondaryAction&&{paddingRight:48})),Ve=B("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,s)=>s.container})({position:"relative"}),L=r.forwardRef(function(s,a){const o=Z({props:s,name:"MuiListItem"}),{alignItems:i="center",autoFocus:c=!1,button:l=!1,children:d,className:p,component:u,components:m={},componentsProps:g={},ContainerComponent:O="li",ContainerProps:{className:oe}={},dense:M=!1,disabled:V=!1,disableGutters:_=!1,disablePadding:ne=!1,divider:ie=!1,focusVisibleClassName:re,secondaryAction:D,selected:ce=!1,slotProps:le={},slots:de={}}=o,pe=w(o.ContainerProps,ke),ue=w(o,we),F=r.useContext(E),T=r.useMemo(()=>({dense:M||F.dense||!1,alignItems:i,disableGutters:_}),[i,F.dense,M,_]),k=r.useRef(null);xe(()=>{c&&k.current&&k.current.focus()},[c]);const h=r.Children.toArray(d),z=h.length&&fe(h[h.length-1],["ListItemSecondaryAction"]),S=n({},o,{alignItems:i,autoFocus:c,button:l,dense:T.dense,disabled:V,disableGutters:_,disablePadding:ne,divider:ie,hasSecondaryAction:z,selected:ce}),U=Oe(S),H=be(k,a),R=de.root||m.Root||Me,C=le.root||g.root||{},x=n({className:G(U.root,C.className,p),disabled:V},ue);let f=u||"li";return l&&(x.component=u||"div",x.focusVisibleClassName=G(v.focusVisible,re),f=ge),z?(f=!x.component&&!u?"div":f,O==="li"&&(f==="li"?f="div":x.component==="li"&&(x.component="div")),e.jsx(E.Provider,{value:T,children:e.jsxs(Ve,n({as:O,className:G(U.container,oe),ref:H,ownerState:S},pe,{children:[e.jsx(R,n({},C,!Y(R)&&{as:f,ownerState:n({},S,C.ownerState)},x,{children:h})),h.pop()]}))})):e.jsx(E.Provider,{value:T,children:e.jsxs(R,n({},C,{as:f,ref:H},!Y(R)&&{ownerState:n({},S,C.ownerState)},x,{children:[h,D&&e.jsx(ae,{children:D})]}))})}),De=({info:t})=>e.jsxs(te,{elevation:3,sx:{p:3},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Información del Candidato"}),e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(q,{dense:!0,children:[e.jsxs(L,{children:[e.jsx(I,{children:e.jsx(P,{icon:"ph:phone-fill"})}),e.jsx(A,{primary:"Teléfono",secondary:t.telefono||"No disponible"})]}),e.jsxs(L,{children:[e.jsx(I,{children:e.jsx(P,{icon:"mdi:email"})}),e.jsx(A,{primary:"Email",secondary:t.email||"No disponible"})]}),e.jsxs(L,{children:[e.jsx(I,{children:e.jsx(P,{icon:"mdi:map-marker"})}),e.jsx(A,{primary:"Ciudad",secondary:t.ciudad||"No disponible"})]})]})}),e.jsx(b,{item:!0,xs:12,md:6,children:e.jsxs(q,{dense:!0,children:[e.jsxs(L,{children:[e.jsx(I,{children:e.jsx(P,{icon:"mdi:card-account-details"})}),e.jsx(A,{primary:"Nº Identidad",secondary:t.identidad||"No disponible"})]}),t.cv_url&&e.jsxs(L,{button:!0,component:"a",href:`https://34-136-149-39.sslip.io${t.cv_url}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(I,{children:e.jsx(P,{icon:"mdi:file-document"})}),e.jsx(A,{primary:"Ver CV",secondary:"Abrir en nueva pestaña"})]})]})}),e.jsxs(b,{item:!0,xs:12,children:[e.jsx(y,{variant:"subtitle1",sx:{mt:2},children:"Observaciones"}),e.jsx(y,{variant:"body2",sx:{whiteSpace:"pre-wrap",bgcolor:"grey.100",p:2,borderRadius:1},children:t.observaciones||"Sin observaciones."})]})]})]}),Fe={Recibida:"info","En Entrevista":"warning",Contratado:"success",Rechazado:"error","En Proceso":"secondary"},ze=({applications:t})=>e.jsxs(te,{elevation:3,sx:{p:3,mt:3},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Historial de Postulaciones"}),t.length===0?e.jsx(y,{children:"Este candidato aún no ha postulado a ninguna vacante."}):e.jsx(Ae,{children:e.jsxs(Le,{size:"small",children:[e.jsx(Se,{children:e.jsxs(K,{children:[e.jsx(j,{children:"Vacante"}),e.jsx(j,{children:"Fecha de Postulación"}),e.jsx(j,{children:"Estado"})]})}),e.jsx(Re,{children:t.map(s=>e.jsxs(K,{children:[e.jsx(j,{children:s.cargo_solicitado}),e.jsx(j,{children:Pe(s.fecha_aplicacion).format("DD/MM/YYYY")}),e.jsx(j,{children:e.jsx(se,{label:s.estado,color:Fe[s.estado]||"default",size:"small"})})]},s.id_postulacion))})]})})]}),Xe=()=>{const{candidateId:t}=he(),[s,a]=r.useState(null),[o,i]=r.useState(!0),[c,l]=r.useState(null);if(r.useEffect(()=>{if(!t){l("No se especificó un ID de candidato."),i(!1);return}(async()=>{i(!0),l(null);try{const g=await Ie.get(`/candidate/profile/${t}`);a(g.data)}catch(g){console.error("Error al cargar el perfil del candidato:",g),l("No se pudo cargar el perfil. Verifique que el candidato exista.")}finally{i(!1)}})()},[t]),o)return e.jsx($,{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh",children:e.jsx(je,{})});if(c||!s)return e.jsxs($,{p:3.5,textAlign:"center",children:[e.jsx(Ne,{severity:"error",children:c||"No se encontraron datos para este candidato."}),e.jsx(W,{component:ve,to:ye.CANDIDATES_SEARCH,variant:"contained",sx:{mt:2},children:"Volver a la Búsqueda"})]});const{infoBasica:d,postulaciones:p,tags:u}=s;return e.jsxs($,{p:3.5,children:[e.jsxs(J,{direction:{xs:"column",sm:"row"},spacing:3,alignItems:"center",mb:4,children:[e.jsx(Ce,{sx:{width:100,height:100,fontSize:"3rem",bgcolor:"primary.main"},children:d.nombre_completo.charAt(0)}),e.jsxs($,{flexGrow:1,children:[e.jsx(y,{variant:"h4",children:d.nombre_completo}),e.jsx(J,{direction:"row",useFlexGap:!0,flexWrap:"wrap",spacing:1,mt:1,children:u.map(m=>e.jsx(se,{label:m.nombre_tag},m.id_tag))})]}),e.jsx(W,{variant:"outlined",children:"Editar Perfil"})]}),e.jsxs(b,{container:!0,spacing:3,children:[e.jsx(b,{item:!0,xs:12,lg:8,children:e.jsx(ze,{applications:p})}),e.jsx(b,{item:!0,xs:12,lg:4,children:e.jsx(De,{info:d})})]})]})};export{Xe as default};
