import{j as e,T as r,L as C,r as n,B as d,C as b,I as j,S as f,a as E,P as k,b as S}from"./index-BcdoFaX9.js";import{a as y}from"./api-B0c_Ee2e.js";import{G as u}from"./Grid-CpJ-x8jZ.js";import{C as p,a as g}from"./CardContent-L7p90UGR.js";import{d as v}from"./dayjs.min-Bijy7lF6.js";import"./es-ivfcZ_wS.js";import{T as I,a as T,b as A,c as w,d as P}from"./TableRow-DNxND1MS.js";import{T as l}from"./TableCell-BhM_tp4h.js";const _=()=>e.jsxs(r,{mt:.5,px:1,pb:{xs:3,md:0},color:"text.secondary",variant:"body2",sx:{textAlign:{xs:"center",md:"right"}},letterSpacing:.5,fontWeight:500,children:["Made with ❤️ by"," ",e.jsx(C,{href:"https://themewagon.com/",target:"_blank",rel:"noreferrer",children:"ThemeWagon"})]}),M=()=>{const[s,h]=n.useState(null),[x,o]=n.useState(!0),[a,c]=n.useState(null);return n.useEffect(()=>{(async()=>{try{o(!0),c(null);const t=await y.get("/reports/kpi");h(t.data)}catch(t){console.error("Error al obtener los KPIs del dashboard:",t),c("No se pudieron cargar las estadísticas.")}finally{o(!1)}})()},[]),x?e.jsx(d,{display:"flex",justifyContent:"center",alignItems:"center",height:120,children:e.jsx(b,{})}):a?e.jsx(r,{color:"error",children:a}):e.jsxs(u,{container:!0,spacing:3.5,children:[e.jsx(u,{item:!0,xs:12,sm:6,md:3,children:e.jsx(p,{sx:{bgcolor:"primary.main",color:"common.white"},children:e.jsxs(g,{children:[e.jsx(j,{icon:"ph:user-plus-fill",fontSize:32}),e.jsx(r,{variant:"h4",mt:1,children:(s==null?void 0:s.nuevos_candidatos_hoy)??0}),e.jsx(r,{variant:"body2",children:"Nuevos Candidatos (Hoy)"})]})})}),e.jsx(u,{item:!0,xs:12,sm:6,md:3,children:e.jsx(p,{sx:{bgcolor:"secondary.main",color:"common.white"},children:e.jsxs(g,{children:[e.jsx(j,{icon:"solar:case-bold",fontSize:32}),e.jsx(r,{variant:"h4",mt:1,children:(s==null?void 0:s.vacantes_activas)??0}),e.jsx(r,{variant:"body2",children:"Vacantes Activas"})]})})}),e.jsx(u,{item:!0,xs:12,sm:6,md:3,children:e.jsx(p,{sx:{bgcolor:"warning.main",color:"common.white"},children:e.jsxs(g,{children:[e.jsx(j,{icon:"ph:calendar-check-fill",fontSize:32}),e.jsx(r,{variant:"h4",mt:1,children:(s==null?void 0:s.entrevistas_programadas_semana)??0}),e.jsx(r,{variant:"body2",children:"Entrevistas (Semana)"})]})})}),e.jsx(u,{item:!0,xs:12,sm:6,md:3,children:e.jsx(p,{sx:{bgcolor:"success.main",color:"common.white"},children:e.jsxs(g,{children:[e.jsx(j,{icon:"fa6-solid:handshake",fontSize:32}),e.jsx(r,{variant:"h4",mt:1,children:(s==null?void 0:s.total_contratados_mes)??0}),e.jsx(r,{variant:"body2",children:"Contratados (Mes)"})]})})})]})};v.locale("es");const R=()=>{const[s,h]=n.useState([]),[x,o]=n.useState(!0),[a,c]=n.useState(null);return n.useEffect(()=>{(async()=>{try{o(!0),c(null);const t=await y.get("/interviews/upcoming");h(t.data)}catch(t){console.error("Error al obtener próximas entrevistas:",t),c("No se pudieron cargar las entrevistas.")}finally{o(!1)}})()},[]),x?e.jsx(b,{sx:{color:"white"}}):a?e.jsx(r,{color:"error",children:a}):s.length===0?e.jsx(r,{sx:{color:"grey.300"},children:"No hay entrevistas programadas."}):e.jsx(f,{spacing:2,children:s.map(i=>e.jsx(p,{sx:{bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx(g,{children:e.jsxs(f,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(E,{sx:{bgcolor:"primary.main"},children:e.jsx(j,{icon:"ph:calendar-check-fill"})}),e.jsxs(d,{children:[e.jsx(r,{variant:"body1",fontWeight:"bold",color:"common.white",children:i.nombre_candidato}),e.jsx(r,{variant:"body2",color:"grey.300",children:i.cargo_vacante}),e.jsx(r,{variant:"caption",color:"grey.300",children:v(i.fecha_hora).format("dddd, D [de] MMMM, h:mm A")})]})]})})},i.id_entrevista))})},z=()=>{const[s,h]=n.useState([]),[x,o]=n.useState(!0),[a,c]=n.useState(null);n.useEffect(()=>{(async()=>{try{o(!0),c(null);const m=await y.get("/application-requests/pending");h(m.data)}catch(m){console.error("Error al obtener solicitudes pendientes:",m),c("No se pudieron cargar las solicitudes.")}finally{o(!1)}})()},[]);const i=(t,m)=>{console.log(`Acción: ${m} en solicitud con ID: ${t}`)};return x?e.jsx(d,{display:"flex",justifyContent:"center",alignItems:"center",p:3,children:e.jsx(b,{})}):a?e.jsx(r,{color:"error",children:a}):e.jsxs(d,{children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Solicitudes de Postulación Pendientes"}),s.length===0?e.jsx(r,{children:"No hay solicitudes pendientes por revisar."}):e.jsx(I,{component:k,children:e.jsxs(T,{sx:{minWidth:650},"aria-label":"simple table",children:[e.jsx(A,{children:e.jsxs(w,{children:[e.jsx(l,{children:"Candidato"}),e.jsx(l,{children:"Vacante"}),e.jsx(l,{children:"Fecha de Solicitud"}),e.jsx(l,{align:"right",children:"Acciones"})]})}),e.jsx(P,{children:s.map(t=>e.jsxs(w,{children:[e.jsx(l,{component:"th",scope:"row",children:t.nombre_candidato}),e.jsx(l,{children:t.cargo_vacante}),e.jsx(l,{children:v(t.fecha_solicitud).format("DD/MM/YYYY")}),e.jsxs(l,{align:"right",children:[e.jsx(S,{variant:"contained",color:"success",size:"small",sx:{mr:1},onClick:()=>i(t.id_solicitud,"approve"),children:"Aprobar"}),e.jsx(S,{variant:"contained",color:"error",size:"small",onClick:()=>i(t.id_solicitud,"reject"),children:"Rechazar"})]})]},t.id_solicitud))})]})})]})},K=()=>e.jsxs(f,{direction:{xs:"column",lg:"row"},children:[e.jsxs(f,{p:3.5,spacing:3.5,direction:"column",flexGrow:1,children:[e.jsx(r,{variant:"h4",gutterBottom:!0,children:"Resumen del Proceso de Reclutamiento"}),e.jsx(M,{}),e.jsx(z,{}),e.jsx(d,{display:{xs:"none",lg:"block"},children:e.jsx(_,{})})]}),e.jsx(d,{width:{xs:1,lg:420},minWidth:{lg:420},height:{xs:"auto",lg:"calc(100vh - 90px)"},overflow:"auto",bgcolor:"info.main",position:"sticky",top:90,children:e.jsxs(f,{p:3.5,spacing:3.5,width:1,direction:"column",children:[e.jsx(r,{variant:"h6",color:"white",gutterBottom:!0,children:"Próximas Entrevistas"}),e.jsx(R,{})]})}),e.jsx(d,{display:{xs:"block",lg:"none"},children:e.jsx(_,{})})]});export{K as default};
